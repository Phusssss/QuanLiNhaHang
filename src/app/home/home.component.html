<div class="container">
  <h2 class="title">ğŸ“Œ Danh sÃ¡ch bÃ n</h2>

  <!-- Bá»™ lá»c -->
  <div class="filters">
    <div class="filter-item">
      <label for="khuVucFilter">Khu vá»±c:</label>
      <select id="khuVucFilter" (change)="onKhuVucChange($event)">
        <option value="">Táº¥t cáº£</option>
        <option *ngFor="let khuVuc of khuVucs" [value]="khuVuc.id">
          {{ khuVuc.name }}
        </option>
      </select>
    </div>

    <div class="filter-item">
      <label for="loaiBanFilter">Loáº¡i bÃ n:</label>
      <select id="loaiBanFilter" (change)="onLoaiBanChange($event)">
        <option value="">Táº¥t cáº£</option>
        <option *ngFor="let loaiBan of loaiBans" [value]="loaiBan.id">
          {{ loaiBan.name }}
        </option>
      </select>
    </div>

    <div class="filter-item">
      <label for="statusFilter">Tráº¡ng thÃ¡i:</label>
      <select id="statusFilter" (change)="onStatusChange($event)">
        <option value="">Táº¥t cáº£</option>
        <option value="0">Trá»‘ng</option>
        <option value="1">Äang sá»­ dá»¥ng</option>
      </select>
    </div>
  </div>

  <!-- Danh sÃ¡ch bÃ n -->
  <div class="table-grid">
    <div 
      *ngFor="let table of filteredTables" 
      class="table-card" 
      [ngClass]="{'occupied': table.status === 1}"
    >
      <h3 class="table-name">{{ table.name }}</h3>
      <p><strong>ğŸ“ Khu vá»±c:</strong> {{ table.nameKhuVuc || 'KhÃ´ng cÃ³' }}</p>
      <p><strong>ğŸ’º Loáº¡i bÃ n:</strong> {{ table.nameLoaiPhong || 'KhÃ´ng cÃ³' }}</p>
      <p><strong>ğŸ§¾ MÃ£ hÃ³a Ä‘Æ¡n:</strong> {{ table.orderID }}</p>

      <p><strong>ğŸ”„ Tráº¡ng thÃ¡i:</strong> 
        <span [ngClass]="{'text-success': table.status === 1, 'text-danger': table.status === 0}">
          {{ table.status === 1 ? 'ğŸ”´ Äang sá»­ dá»¥ng' : 'ğŸŸ¢ Trá»‘ng' }}
        </span>
      </p>

      <!-- Náº¿u bÃ n trá»‘ng, hiá»ƒn thá»‹ nÃºt "Gá»i mÃ³n" -->
      <div *ngIf="table.status === 0" class="action-buttons">
        <button (click)="goToOrder(table)" class="btn btn-success">ğŸ“Œ Gá»i mÃ³n</button>
      </div>

      <!-- Náº¿u bÃ n Ä‘ang sá»­ dá»¥ng, hiá»ƒn thá»‹ hai nÃºt -->
      <div *ngIf="table.status === 1" class="action-buttons">
        <button (click)="goToAddItem(table)" class="btn btn-primary">ğŸ½ï¸ Gá»i thÃªm mÃ³n</button>
        <button (click)="payOrder(table)" class="btn btn-danger">ğŸ’° Thanh toÃ¡n</button>
      </div>
    </div>
  </div>
</div>